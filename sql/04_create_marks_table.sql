/*
Deval Patel
04_create_marks_table.sql
11 october 2024
*/

DROP TABLE IF EXISTS marks;

CREATE TABLE marks(
    student_id INT ,
    course_code VARCHAR(25),
    -- CHECK is used to find that the marks is between number 0 and 100
    final_mark INT CHECK (final_mark BETWEEN 0 AND 100),
    achieved_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    -- CASCADE function is used to maintain referential integrity in the database. 
    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    FOREIGN KEY (course_code) REFERENCES courses(course_code) ON DELETE CASCADE
);


INSERT INTO marks(student_id, course_code, final_mark, achieved_at)
                VALUES 
                    ('100900000', 'COMM 1100', 85, '2024-10-11 10:00:00'),
                    ('100900001', 'INFT 2200', 85, '2024-10-06 09:05:00'),
                    ('100900002', 'COSC 1100', 78, '2024-10-11 11:15:00'),
                    ('100900003', 'INFT 1105', 74, '2024-10-10 14:30:00'),
                    ('100900004', 'COSC 1200', 80, '2024-10-11 15:20:00'),
                    ('100900005', 'INFT 1206', 88, '2024-10-09 08:30:00'),
                    ('100900006', 'MGMT 1224', 91, '2024-10-08 10:20:00'),
                    ('100900007', 'COSC 2100', 73, '2024-10-07 13:30:00'),
                    ('100900008', 'INFT 2101', 84, '2024-10-09 15:35:00'),
                    ('100900009', 'MGMT 2107', 92, '2024-10-08 14:45:00'),
                    ('100900010', 'INFT 2200', 85, '2024-10-06 08:40:00'),
                    ('100900011', 'INFT 2202', 89, '2024-10-11 16:55:00'),
                    ('100900012', 'INFT 3100', 72, '2024-10-08 15:20:00'),
                    ('100900013', 'INFT 3102', 93, '2024-10-07 08:15:00'),
                    ('100900014', 'INFT 3104', 91, '2024-10-09 17:30:00'),
                    ('100900015', 'CPGA 3201', 96, '2024-10-06 12:00:00'),
                    ('100900016', 'INFT 3201', 78, '2024-10-05 15:10:00'),
                    ('100900017', 'COMM 1100', 86, '2024-10-10 14:55:00'),
                    ('100900018', 'COSC 1100', 85, '2024-10-08 16:45:00'),
                    ('100900019', 'INFT 1105', 73, '2024-10-11 14:35:00'),
                    ('100900020', 'COSC 1200', 84, '2024-10-07 15:15:00'),
                    ('100900021', 'GNED 0000', 91, '2024-10-10 09:05:00'),
                    ('100900022', 'INFT 1207', 90, '2024-10-06 08:55:00'),
                    ('100900023', 'MGMT 1224', 85, '2024-10-11 11:50:00'),
                    ('100900024', 'COSC 2100', 89, '2024-10-05 16:00:00'),
                    ('100900025', 'COSC 2100', 89, '2024-10-05 16:20:00'),
                    ('100900026', 'INFT 2100', 90, '2024-10-10 09:30:00'),
                    ('100900027', 'MGMT 3211', 91, '2024-10-10 09:50:00'),
                    ('100900028', 'CPGA 3200', 92, '2024-10-10 10:00:00'),
                    ('100900029', 'INFT 2100', 93, '2024-10-10 10:10:00'),
                    ('100900030', 'MGMT 3211', 94, '2024-10-10 10:20:00'),
                    ('100900031', 'INFT 2100', 95, '2024-10-10 10:30:00'),
                    ('100900032', 'CPGA 3200', 96, '2024-10-10 10:40:00'),
                    ('100900033', 'INFT 2100', 97, '2024-10-10 10:50:00'),
                    ('100900034', 'MGMT 3211', 98, '2024-10-10 11:00:00'),
                    ('100900035', 'INFT 2100', 99, '2024-10-10 11:20:00'),
                    ('100900036', 'COMM 1100', 82, '2024-10-11 12:00:00'),
                    ('100900037', 'COSC 1100', 79, '2024-10-11 13:10:00'),
                    ('100900038', 'INFT 1105', 77, '2024-10-10 15:40:00'),
                    ('100900039', 'COSC 1200', 83, '2024-10-11 16:30:00'),
                    ('100900040', 'INFT 1206', 89, '2024-10-09 09:25:00'),
                    ('100900041', 'MGMT 1224', 92, '2024-10-08 11:15:00'),
                    ('100900042', 'COSC 2100', 76, '2024-10-07 14:00:00'),
                    ('100900043', 'INFT 2101', 85, '2024-10-09 16:00:00'),
                    ('100900044', 'MGMT 2107', 90, '2024-10-08 14:20:00'),
                    ('100900045', 'INFT 2200', 81, '2024-10-06 09:05:00'),
                    ('100900046', 'INFT 2202', 87, '2024-10-11 17:40:00'),
                    ('100900047', 'INFT 3100', 80, '2024-10-08 15:40:00'),
                    ('100900048', 'INFT 3102', 94, '2024-10-07 09:00:00'),
                    ('100900049', 'INFT 3104', 92, '2024-10-09 18:00:00');

SELECT * 
FROM marks;